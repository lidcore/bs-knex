// Generated by BUCKLESCRIPT VERSION 2.2.3, PLEASE EDIT WITH CARE
'use strict';

var Knex = require("knex");
var Callback$BsCallback = require("bs-callback/src/callback.js");

function init(param) {
  var config = param[1];
  config.client = "pg";
  return Knex(config);
}

function BuildQuery(Config) {
  var knex = Config[/* client */0];
  var where = function (args, t) {
    return t.where(args);
  };
  var returning = function (args, t) {
    return t.returning(args);
  };
  var first = function (t) {
    var partial_arg = t.first();
    return (function (param) {
        return Callback$BsCallback.from_promise(partial_arg, param);
      });
  };
  var select = (function (knex, args) {
    return knex.select.apply(knex, args);
  });
  var select$1 = function ($staropt$star, t) {
    var columns = $staropt$star ? $staropt$star[0] : /* array */[];
    var partial_arg = select(t, columns);
    return (function (param) {
        return Callback$BsCallback.from_promise(partial_arg, param);
      });
  };
  var update = function (args, t) {
    return t.update(args);
  };
  var insert = function (args, t) {
    return t.insert(args);
  };
  return /* module */[
          /* knex */knex,
          /* where */where,
          /* returning */returning,
          /* first */first,
          /* select */select$1,
          /* update */update,
          /* insert */insert
        ];
}

exports.init = init;
exports.BuildQuery = BuildQuery;
/* knex Not a pure module */
